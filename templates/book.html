{%extends "layout.html"%}
{%block title%}
Book detail
{%endblock%}
{%block body%}

<header>
  <div class="navbar navbar-light bg-light shadow-sm">
    <div class="container d-flex justify-content-between">
      <a class="navbar-brand" href="{{url_for('index')}}">
        <img src="{{url_for('static', filename='assets/sblogo.png')}}" width="60" height="60" alt="" loading="lazy">
      </a>
      <form class="form-inline col-6" action="{{url_for('index')}}" method="post">
        <input name="search" style="background-color:#fff;" class="col-12 form-control searchbar text-center" type="text" placeholder="Search by title, author or ISBN" aria-label="Search">
      </form>
      <a href="{{url_for('logout')}}" class="btn btn-outline-danger">Logout</a>
    </div>
  </div>
</header>

<main role="main" class="bg-light">
  <div class="container shadow-sm py-5 book-detail">
    <div style="border-radius: 22.5px 22.5px 0px 0px; background: linear-gradient(to right, #7f7fd5, #86a8e7, #91eae4);" class="col-12 text-white py-5 container">
      <h1 class="font-weight-bold">{{book.title}}</h1>
      <h5 style="color:#fefefe">{{book.author}} • {{book.year}} • {{book.isbn}}</h5>
      <h5><svg class="bi bi-star-fill" width="0.8em" height="0.8em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
        </svg>
        {%if rating%}
          {{rating}} • 4.5 in goodreads.com • {{n_reviews}} reviews
        {%else%}
          4.5 in goodreads.com • No reviews
        {%endif%}
      </h5>
    </div>
    <div style="background-color:#fff; border-radius: 0px 0px 22.5px 22.5px;" class="container py-5">
      <h2>Make review</h2>
      <form class="py-4" action="index.html" method="post">
        <div class="form-group inline">
          <select style="border-radius: 15px 15px 15px 15px;" class="form-control">
            <option value="" selected>Select your rating</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
          </select>
        </div>
        <div class="form-group">
          <input style="border-radius: 15px 15px 15px 15px;" class="form-control" id="exampleFormControlTextarea1" placeholder="Title your review" rows="3"></input>
        </div>
        <div class="form-group">
          <textarea style="border-radius: 15px 15px 15px 15px;" class="form-control" id="exampleFormControlTextarea1" placeholder="Write your opinion" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-block btn-review btn-primary" name="button"><strong>Review</strong></button>
      </form>
      {%if reviews%}
        <hr>
        <div class="py-4">
          {%for r in reviews%}
          <div style="border-radius: 15px;" class="card">
            <div style="background-color:#7f7fd5; border-radius: 15px 15px 0 0;" class="card-header text-white">
              <strong>
                <h5 class="card-title">sanmonsua • <svg class="bi bi-star-fill" width="0.8em" height="0.8em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                  </svg> 5</h5>
              </strong>
            </div>
            <div class="card-body">
              <h5>It's a good book</h5>
              <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            </div>
          </div>
          {%endfor%}

        </div>
      {%endif%}


    </div>

  </div>
</main>
{%endblock%}
